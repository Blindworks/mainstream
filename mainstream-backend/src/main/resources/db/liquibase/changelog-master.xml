<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.20.xsd">

    <!-- ========================================= -->
    <!-- SCHEMA CHANGESETS (run first)             -->
    <!-- ========================================= -->

    <include file="db/liquibase/changesets/schema/001-create-users-table.xml"/>
    <include file="db/liquibase/changesets/schema/002-create-predefined-routes-table.xml"/>
    <include file="db/liquibase/changesets/schema/003-create-runs-table.xml"/>
    <include file="db/liquibase/changesets/schema/004-create-trophies-table.xml"/>
    <include file="db/liquibase/changesets/schema/005-create-competitions-table.xml"/>
    <include file="db/liquibase/changesets/schema/006-add-location-fields-to-trophies.xml"/>
    <include file="db/liquibase/changesets/schema/007-add-username-to-users.xml"/>
    <include file="db/liquibase/changesets/schema/008-create-app-settings-table.xml"/>
    <include file="db/liquibase/changesets/schema/009-add-image-url-to-predefined-routes.xml"/>
    <include file="db/liquibase/changesets/schema/010-add-city-to-users.xml"/>
    <include file="db/liquibase/changesets/schema/011-add-city-to-predefined-routes.xml"/>
    <include file="db/liquibase/changesets/schema/012-add-criteria-config-to-trophies.xml"/>

    <!-- ========================================= -->
    <!-- TEST DATA CHANGESETS (run after schema)   -->
    <!-- Context: test-data                         -->
    <!-- ========================================= -->

    <include file="db/liquibase/changesets/001-insert-test-users.xml"/>
    <include file="db/liquibase/changesets/002-insert-predefined-routes.xml"/>
    <include file="db/liquibase/changesets/003-insert-runs-data.xml"/>
    <include file="db/liquibase/changesets/004-insert-trophies.xml"/>
    <include file="db/liquibase/changesets/005-insert-competitions.xml"/>
    <include file="db/liquibase/changesets/006-insert-example-configurable-trophies.xml"/>

    <!-- ========================================= -->
    <!-- DATA MIGRATIONS (run for all contexts)    -->
    <!-- ========================================= -->

    <include file="db/liquibase/changesets/007-fix-trophy-config-json.xml"/>

</databaseChangeLog>
